(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Home-Index-vue"],{"1e67":function(t,e,a){"use strict";var i=a("bc66"),n=a.n(i);n.a},"8a00":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.loading?a("v-card",{staticClass:"d-flex align-content-center flex-wrap",attrs:{height:"100%",elevation:"0"}},[a("v-card-text",[a("v-row",{attrs:{justify:"center"}},[a("LoadLayout",[a("BaseLoading")],1)],1)],1)],1):a("v-card",{staticClass:"d-flex align-content-center flex-wrap",attrs:{height:"100%",elevation:"0"}},[a("v-card-text",[a("v-row",{attrs:{justify:"center"}},[a("div",{staticClass:"headline black--text",staticStyle:{"margin-bottom":"20px","margin-top":"50px",align:"center"}},[t._v(" Bienvenido "+t._s(t.user.data.nombre)+" "+t._s(t.user.data.apellido)+" "),a("v-btn",{staticClass:"mx-2",attrs:{fab:"",small:""},on:{click:t.salir}},[a("v-icon",[t._v("mdi-exit-to-app")])],1)],1)]),a("v-row",{attrs:{justify:"center"}},[a("Table",{attrs:{notas:t.notas}})],1)],1)],1)},n=[],o=(a("d3b7"),a("5530")),s=a("99da"),d=a("5d10"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.notas},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Mi CRUD")]),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",n,!1),i),[t._v(" Nueva Nota ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Descripcion"},model:{value:t.editedItem.descripcion,callback:function(e){t.$set(t.editedItem,"descripcion",e)},expression:"editedItem.descripcion"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v(" Cancelar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v(" Guardar ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Estas seguro de eliminar esta nota?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteItemConfirm}},[t._v("OK")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(e){var i=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(i)}}},[t._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(i)}}},[t._v(" mdi-delete ")])]}}])})},r=[],l=(a("c975"),a("a434"),a("2f62")),u=(a("99af"),a("bc3a")),v=a.n(u),f=a("f0b3"),h=function(){return v.a.create({baseURL:"".concat(f["a"].http,"://").concat(f["a"].data,"/api"),withCredentials:!1,headers:{Accept:"application/json","Content-Type":"application/json","x-access-control":f["a"].header,"tenant-id":f["a"].tenant_id}})},m={data:function(){return{dialog:!1,dialogDelete:!1,headers:[{text:"id",value:"id"},{text:"descripcion",sortable:!0,value:"descripcion"},{text:"Acciones",value:"action",sortable:!1}],editedIndex:-1,editedItem:{id:0,descripcion:"",usuario_id:0},defaultItem:{id:0,descripcion:"",usuario_id:0}}},computed:Object(o["a"])(Object(o["a"])({},Object(l["c"])("sesion",{user:"user"})),{},{formTitle:function(){return-1===this.editedIndex?"Nueva nota":"Editar Nota"}}),watch:{dialog:function(t){t||this.close()},dialogDelete:function(t){t||this.closeDelete()}},props:{notas:{Type:Array,default:function(){return[]}}},methods:{editItem:function(t){this.editedIndex=this.notas.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){this.editedIndex=this.notas.indexOf(t),this.editedItem=Object.assign({},t),this.dialogDelete=!0},deleteItemConfirm:function(){this.deleteNota(this.notas[this.editedIndex].id),this.notas.splice(this.editedIndex,1),this.closeDelete()},close:function(){var t=this;this.dialog=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},closeDelete:function(){var t=this;this.dialogDelete=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},save:function(){this.editedIndex>-1?(this.editedItem.usuario_id=this.user.data.id,this.editNota(this.editedItem),Object.assign(this.notas[this.editedIndex],this.editedItem),this.close()):(this.editedItem.usuario_id=this.user.data.id,this.addNota(this.editedItem))},addNota:function(t){var e=this;delete t.id,h().post("/notas",{data:t}).then((function(t){e.editedItem.id=t.data.id,e.notas.push(e.editedItem),e.close()}))},deleteNota:function(t){h().delete("/notas/".concat(t))},editNota:function(t){h().post("/notas/".concat(t.id),{data:t})}}},p=m,b=a("2877"),x=a("6544"),g=a.n(x),I=a("8336"),_=a("b0af"),C=a("99d9"),k=a("62ad"),j=a("a523"),V=a("8fea"),w=a("169a"),O=a("132d"),T=a("0fd9"),y=a("2fa4"),D=a("8654"),N=a("71d9"),L=a("2a7f"),$=Object(b["a"])(p,c,r,!1,null,null,null),B=$.exports;g()($,{VBtn:I["a"],VCard:_["a"],VCardActions:C["a"],VCardText:C["b"],VCardTitle:C["c"],VCol:k["a"],VContainer:j["a"],VDataTable:V["a"],VDialog:w["a"],VIcon:O["a"],VRow:T["a"],VSpacer:y["a"],VTextField:D["a"],VToolbar:N["a"],VToolbarTitle:L["a"]});var A={components:{LoadLayout:s["a"],BaseLoading:d["a"],Table:B},name:"Home",data:function(){return{notas:[],loading:!0}},created:function(){this.getNotas()},computed:Object(o["a"])({},Object(l["c"])("sesion",{user:"user"})),head:{title:function(){return{inner:"Inicio",separator:" ",complement:" "}}},methods:Object(o["a"])(Object(o["a"])({},Object(l["b"])("sesion",{logout:"logout"})),{},{salir:function(){this.logout(),this.$router.push("/login")},getNotas:function(){var t=this;h().get("/usuario/".concat(this.user.data.id,"/notas")).then((function(e){t.notas=e.data.pivotes})).finally((function(){t.loading=!1}))}})},E=A,R=(a("1e67"),Object(b["a"])(E,i,n,!1,null,"16bf52fc",null));e["default"]=R.exports;g()(R,{VBtn:I["a"],VCard:_["a"],VCardText:C["b"],VIcon:O["a"],VRow:T["a"]})},bc66:function(t,e,a){}}]);
//# sourceMappingURL=Home-Index-vue.6a03c668.js.map