(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ab4cc"],{"154f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.dialog?a("v-dialog",{attrs:{width:"500",transition:"dialog-bottom-transition",persistent:""},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[e._v(" Añadir viaje "),a("v-spacer"),e._t("close")],2),a("v-card-text",[a("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-stepper",{staticClass:"elevation-0",attrs:{"non-linear":""},model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[a("v-stepper-items",[a("v-stepper-content",{staticStyle:{padding:"0px"},attrs:{step:"1"}},[a("v-text-field",{attrs:{filled:"","single-line":"",label:"Punto salida",dense:"",rounded:"",hint:"Punto de salida",rules:[e.required("Punto de salida")],"persistent-hint":"",color:"#2950c3",disabled:!1},model:{value:e.data.punto_inicio,callback:function(t){e.$set(e.data,"punto_inicio",t)},expression:"data.punto_inicio"}}),a("v-text-field",{attrs:{filled:"","single-line":"",label:"Punto llegada",dense:"",rounded:"",hint:"Punto de llegada",rules:[e.required("Punto de llegada")],"persistent-hint":"",color:"#2950c3",disabled:!1},model:{value:e.data.punto_fin,callback:function(t){e.$set(e.data,"punto_fin",t)},expression:"data.punto_fin"}}),a("v-text-field",{attrs:{filled:"","single-line":"",label:"Kilometros",dense:"",rounded:"",hint:"Kilometros",rules:[e.required("kilometros"),e.positivo("Kilometros")],"persistent-hint":"",color:"#2950c3",disabled:!1,type:"number"},model:{value:e.data.kilometros,callback:function(t){e.$set(e.data,"kilometros",t)},expression:"data.kilometros"}}),a("v-select",{attrs:{dense:"",filled:"","single-line":"",rounded:"",label:"Transporte",hint:"Transporte","persistent-hint":"",color:"#2950c3",disabled:!1,rules:[e.requiredObject("Transporte")],"return-object":"",items:e.vehiculos,"item-text":"nombre"},on:{change:function(t){return e.changeTransporte(t)}}}),a("v-checkbox",{attrs:{color:"green",label:"Ida y vuelta ?"},on:{change:function(t){return e.changeIda(t)}},model:{value:e.ida,callback:function(t){e.ida=t},expression:"ida"}}),a("v-btn",{staticClass:"white--text font-weight-bold caption",attrs:{disabled:!e.valid,rounded:"",block:"",color:"#005598"},on:{click:function(t){e.e1=2}}},[e._v(" Siguiente ")])],1),a("v-stepper-content",{staticStyle:{padding:"0px"},attrs:{step:"2"}},[a("div",{staticClass:"my-5 title black--text text-center"},[e._v("¿ Alguien más ira contigo ?")]),a("v-select",{attrs:{dense:"",filled:"","single-line":"",rounded:"",label:"Usuarios",hint:"Usuarios","persistent-hint":"",color:"#2950c3",disabled:!1,"return-object":"",items:e.allUsers,multiple:"",chips:"","small-chips":"","item-text":"nombre"},on:{change:function(t){return e.add(t)}}}),a("v-btn",{staticClass:"white--text font-weight-bold caption",attrs:{disabled:!e.valid,rounded:"",block:"",color:"#005598",loading:e.loading},on:{click:function(t){return e.postViajes()}}},[e._v(" Agregar ")])],1)],1)],1)],1)],1)],1)],1):e._e()},n=[],o=(a("4de4"),a("d3b7"),a("5530")),s=a("2f62"),l=a("eb9b"),d=a("3b1b"),r=a("22b3"),c={props:{dialog:{type:Boolean,default:!1}},mixins:[l["a"]],data:function(){return Object(o["a"])(Object(o["a"])({},d["a"]),{},{loading:!1,e1:1,ida:!1,valid:!1,data:{punto_inicio:"",punto_fin:"",kilometros:0,idayvuelta:0,medio_transporte_id:0,created_at:(new Date).toISOString().substr(0,10),updated_at:(new Date).toISOString().substr(0,10)},data1:[]})},mounted:function(){this.data1.push(this.user.data.id)},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(s["c"])("sesion",{user:"user"})),Object(s["c"])("global",{vehiculos:"vehiculos",usuarios:"usuarios"})),{},{allUsers:function(){var e=this,t=[];return this.usuarios.filter((function(a){return a.id!==e.user.data.id?t.push(a):null})),t}}),methods:Object(o["a"])(Object(o["a"])({},Object(s["b"])("global",["pushViaje"])),{},{changeIda:function(e){this.data.idayvuelta=e?0:1},changeTransporte:function(e){this.data.medio_transporte_id=e.id},add:function(e){var t=this;this.data1=[],this.data1.push(this.user.data.id),e.filter((function(e){return t.data1.push(e.id)}))},postViajes:function(){var e=this;this.loading=!0,Object(r["a"])().post("/viajes",{data:this.data,data2:this.data1}).then((function(t){e.success("viaje guardado exitosamente"),e.data.detalles=e.data,e.pushViaje(e.data)})).catch((function(t){console.log(t),e.error("Error al crear el viaje")})).finally((function(){e.loading=!1}))}})},u=c,p=a("2877"),b=a("6544"),h=a.n(b),v=a("8336"),f=a("b0af"),g=a("99d9"),m=a("ac7c"),x=a("169a"),j=a("4bd4"),k=a("b974"),_=a("2fa4"),V=a("7e85"),O=a("e516"),w=a("9c54"),S=a("8654"),y=Object(p["a"])(u,i,n,!1,null,null,null);t["default"]=y.exports;h()(y,{VBtn:v["a"],VCard:f["a"],VCardText:g["b"],VCardTitle:g["c"],VCheckbox:m["a"],VDialog:x["a"],VForm:j["a"],VSelect:k["a"],VSpacer:_["a"],VStepper:V["a"],VStepperContent:O["a"],VStepperItems:w["a"],VTextField:S["a"]})}}]);
//# sourceMappingURL=chunk-2d0ab4cc.a5538c66.js.map