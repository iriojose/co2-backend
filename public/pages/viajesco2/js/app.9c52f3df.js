(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(e,t,n){e.exports=n("56d7")},"0c0a":function(e,t,n){e.exports=n.p+"img/co2.7c5ea809.png"},"1c48":function(e,t,n){"use strict";n("99af");var a=n("bc3a"),o=n.n(a),i=n("f0b3");t["a"]=function(){return o.a.create({baseURL:"".concat(i["a"].http,"://").concat(i["a"].auth,"/auth"),withCredentials:!1,headers:{Accept:"application/json","Content-Type":"application/json","x-access-control":i["a"].header,"tenant-id":i["a"].tenant_id}})}},"22b3":function(e,t,n){"use strict";n("99af");var a=n("bc3a"),o=n.n(a),i=n("f0b3");t["a"]=function(){return o.a.create({baseURL:"".concat(i["a"].http,"://").concat(i["a"].data,"/api"),withCredentials:!1,headers:{Accept:"application/json","Content-Type":"application/json","x-access-control":i["a"].header,"tenant-id":i["a"].tenant_id}})}},"333e":function(e,t,n){e.exports=n.p+"img/loading.6b3ba0ec.svg"},"3b5e":function(e,t,n){var a={"./Dashboard/Index.vue":["eb22","chunk-78396680"],"./Forgot/Index.vue":["d3d4","npm.vuetify","npm.core-js","chunk-2d0c4616","chunk-2d23019c","chunk-6966c627"],"./Home/Index.vue":["8a00","chunk-62e6283d"],"./Login/Index.vue":["e426","npm.vuetify","npm.core-js","chunk-2d0c4616","chunk-2d23019c","chunk-b57ddfb0"],"./Perfil/Index.vue":["a198","chunk-2d207805"],"./Register/Index.vue":["0309","npm.vuetify","npm.core-js","npm.babel","npm.regenerator-runtime","chunk-f1f62884"],"./Reset/Index.vue":["900b","npm.vuetify","npm.core-js","chunk-2d0c4616","chunk-6b78a00c"]};function o(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],o=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(o)}))}o.keys=function(){return Object.keys(a)},o.id="3b5e",e.exports=o},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[e.loading?n("LoadLayout",[n("BaseLoading")],1):n("MainLayout")],1)},i=[],s=n("5530"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"d-flex align-content-center flex-wrap",attrs:{height:"100%",elevation:"0"}},[n("v-card-text",[n("v-row",{attrs:{justify:"center"}},[e._t("default")],2)],1)],1)},r=[],u={name:"LoadLayout"},l=u,d=n("2877"),m=n("6544"),p=n.n(m),f=n("b0af"),h=n("99d9"),v=n("0fd9"),b=Object(d["a"])(l,c,r,!1,null,null,null),g=b.exports;p()(b,{VCard:f["a"],VCardText:h["b"],VRow:v["a"]});var _=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Navbar"),n("router-view"),n("Footer")],1)},S=[],w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app-bar",{attrs:{app:"",elevation:2}},[a("div",{staticClass:"d-flex align-center"},[a("v-img",{staticClass:"shrink mr-2 cursor",attrs:{alt:"logo co2",contain:"",src:n("0c0a"),transition:"scale-transition",width:"40",height:"40"},on:{click:e.push}})],1),a("v-toolbar-title",{staticClass:"font-weight-bold"},[e._v(" Co2 ")]),a("v-spacer"),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.user.loggedIn,expression:"!user.loggedIn"}],staticClass:"hidden-sm-and-down"},[a("v-btn",{staticClass:"mx-1 black--text font-weight-bold text-capitalize",attrs:{text:"",to:"/login"}},[e._v(" Iniciar sesión ")]),a("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var n=t.hover;return[a("v-btn",{staticClass:"mx-1 font-weight-bold text-capitalize",attrs:{elevation:n?10:0,height:"30",to:"/register"}},[e._v(" Registrate ")])]}}])})],1),e.sesion?a("Perfil"):e._e(),e.$vuetify.breakpoint.smAndDown&&!e.sesion?a("MovilOpciones"):e._e()],1)},x=[],O=(n("d3b7"),n("2f62")),E={components:{Perfil:function(){return Promise.all([n.e("npm.vuetify"),n.e("npm.core-js"),n.e("npm.babel"),n.e("chunk-cd7a9c9c")]).then(n.bind(null,"937e"))},MovilOpciones:function(){return Promise.all([n.e("npm.vuetify"),n.e("npm.core-js"),n.e("npm.babel"),n.e("chunk-2d21e6ce")]).then(n.bind(null,"d606"))}},computed:Object(s["a"])(Object(s["a"])({},Object(O["c"])("sesion",{user:"user"})),{},{sesion:function(){return this.user.loggedIn}}),methods:{push:function(){this.$router.push("/")}}},k=E,j=(n("a20a"),n("40dc")),I=n("8336"),C=n("ce87"),T=n("adda"),y=n("2fa4"),L=n("2a7f"),V=Object(d["a"])(k,w,x,!1,null,null,null),A=V.exports;p()(V,{VAppBar:j["a"],VBtn:I["a"],VHover:C["a"],VImg:T["a"],VSpacer:y["a"],VToolbarTitle:L["a"]});var U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-footer",{staticClass:"font-weight-medium",attrs:{fixed:"",elevation:"2"}},[n("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[e._v(" "+e._s((new Date).getFullYear())+" — "),n("strong",[e._v("co2")])])],1)},N=[],R=n("62ad"),D=n("553a"),J={},$=Object(d["a"])(J,U,N,!1,null,null,null),F=$.exports;p()($,{VCol:R["a"],VFooter:D["a"]});var H={components:{Navbar:A,Footer:F}},P=H,G=Object(d["a"])(P,_,S,!1,null,null,null),M=G.exports,B=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},z=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"loader-container"},[a("img",{staticClass:"spinner",attrs:{src:n("333e"),width:"125px",height:"125px"}}),a("img",{staticClass:"abs-center blink",attrs:{src:n("0c0a"),width:"80px",height:"80px"}})])}],K=(n("d239"),{}),Q=Object(d["a"])(K,B,z,!1,null,null,null),Y=Q.exports,Z=n("22b3"),W={name:"App",components:{MainLayout:M,LoadLayout:g,BaseLoading:Y},head:{title:function(){return{inner:"CO2",separator:" ",complement:" "}}},created:function(){this.getVehiculos(),this.getUsuarios()},computed:Object(s["a"])({},Object(O["c"])("sesion",{loading:"loading",user:"user"})),methods:Object(s["a"])(Object(s["a"])({},Object(O["b"])("global",["setVehiculos","setUsuarios"])),{},{getVehiculos:function(){var e=this;Object(Z["a"])().get("/medio_transporte").then((function(t){e.setVehiculos(t.data.data)}))},getUsuarios:function(){var e=this;Object(Z["a"])().get("/usuario").then((function(t){e.setUsuarios(t.data.data)}))}})},X=W,q=(n("5c0b"),n("7496")),ee=Object(d["a"])(X,o,i,!1,null,null,null),te=ee.exports;p()(ee,{VApp:q["a"]});n("d81d"),n("b0c0");var ne=n("8c4f");a["a"].use(ne["a"]);var ae=[{path:"/",name:"Home",meta:{auth:!1}},{path:"/dashboard",name:"Dashboard",meta:{auth:!0}},{path:"/login",name:"Login",meta:{auth:!1}},{path:"/register",name:"Register",meta:{auth:!1}},{path:"/forgot",name:"Forgot",meta:{auth:!1}},{path:"/resetpassword/:email/:token",name:"Reset",meta:{auth:!1}},{path:"*",redirect:{name:"Home"}}],oe=ae.map((function(e){return Object(s["a"])(Object(s["a"])({},e),{},{component:function(){return n("3b5e")("./".concat(e.name,"/Index.vue"))}})})),ie=new ne["a"]({mode:"history",base:"/",routes:oe,linkActiveClass:"router-link-active",linkExactActiveClass:"router-link-exact-active",scrollBehavior:function(e,t,n){return n||{x:0,y:0}},parseQuery:function(e){return e},fallback:!0});ie.beforeEach((function(e,t,n){var a=window.sessionStorage.getItem("token_client");e.meta.auth?null!==a?n():n({name:"Home"}):"Login"==e.name&&null!==a||"Login"==e.name&&null!==a||"Register"==e.name&&null!==a||"Reset"==e.name&&null!==a||"Forgot"==e.name&&null!==a?n({name:"Dashboard"}):n()}));var se=ie,ce=n("1c48"),re={namespaced:!0,state:{accessToken:null,loading:!1,user:{data:null,loggedIn:!1}},mutations:{SET_ACCESS_TOKEN:function(e,t){e.accessToken=t,window.sessionStorage.setItem("token_client",JSON.stringify(t))},SET_LOADING:function(e,t){e.loading=t},SET_USER:function(e,t){var n={loggedIn:!0,data:t.data};e.user=n},LOGOUT:function(e){e.accessToken=null,e.user.data=null,e.user.loggedIn=!1,window.sessionStorage.clear()}},actions:{setLoading:function(e,t){var n=e.commit;n("SET_LOADING",t)},logout:function(e){var t=e.commit;t("LOGOUT")},logged:function(e,t){var n=e.commit;n("SET_USER",t),n("SET_ACCESS_TOKEN",t.token)},getSesion:function(e,t){var n=e.commit;n("SET_LOADING",!0),Object(ce["a"])().post("/sesion",{token:t}).then((function(e){console.log(e),440==e.data.code&&sessionStorage.removeItem("token_client"),401==e.data.code&&sessionStorage.removeItem("token_client"),200==e.data.code&&(n("SET_ACCESS_TOKEN",t),n("SET_USER",e.data.response))})).catch((function(e){})).finally((function(){n("SET_LOADING",!1)}))}}},ue={namespaced:!0,state:{vehiculos:[],usuarios:[],viajes:[]},mutations:{SET_VEHICULOS:function(e,t){e.vehiculos=t},SET_USUARIOS:function(e,t){e.usuarios=t},SET_VIAJES:function(e,t){e.viajes=t},PUSH_VIAJE:function(e,t){e.viajes.push(t)}},actions:{setVehiculos:function(e,t){var n=e.commit;n("SET_VEHICULOS",t)},setUsuarios:function(e,t){var n=e.commit;n("SET_USUARIOS",t)},setViajes:function(e,t){var n=e.commit;n("SET_VIAJES",t)},pushViaje:function(e,t){var n=e.commit;n("PUSH_VIAJE",t)}}};a["a"].use(O["a"]);var le=new O["a"].Store({modules:{sesion:re,global:ue}}),de=n("f309");a["a"].use(de["a"]);var me=new de["a"]({}),pe=n("342d"),fe=n.n(pe);a["a"].use(fe.a);var he=fe.a,ve=n("a65d"),be=n.n(ve);a["a"].use(be.a);var ge=be.a;n("a0d8");a["a"].config.productionTip=!1,new a["a"]({router:se,store:le,vuetify:me,head:he,toasted:ge,methods:{init:function(){var e=JSON.parse(window.sessionStorage.getItem("token_client"));null!==e&&le.dispatch("sesion/getSesion",e,{root:!0})}},created:function(){this.init()},render:function(e){return e(te)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var a=n("9c0c"),o=n.n(a);o.a},"641c":function(e,t,n){},"6f49":function(e,t,n){},"9c0c":function(e,t,n){},a0d8:function(e,t,n){},a20a:function(e,t,n){"use strict";var a=n("641c"),o=n.n(a);o.a},d239:function(e,t,n){"use strict";var a=n("6f49"),o=n.n(a);o.a},f0b3:function(e,t,n){"use strict";var a="eyJ1c2VyIjoiaXJpb2pnb21lenZAZ21haWwuY29tIiwicGFzc3dvcmQiOiIxMjM0NTYifQ==",o="http",i="localhost:81",s="localhost:82",c="co2db";t["a"]={data:i,auth:s,header:a,http:o,tenant_id:c}}},[[0,"runtime","npm.vuetify","npm.core-js","npm.babel","npm.axios","npm.node-libs-browser","npm.path-browserify","npm.vue-head","npm.vue-loader","npm.vue-router","npm.vue-toasted","npm.vue","npm.vuetify-loader","npm.vuex","npm.webpack"]]]);
//# sourceMappingURL=app.9c52f3df.js.map